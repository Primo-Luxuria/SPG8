{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Courses</title>
    <style>
        body { font-family: Arial, sans-serif; }
	    textarea {width: 100%;min-height: 100px;resize: vertical;font-size: 16px;padding: 8px;}
        .course-container { background: #f4f4f4; padding: 15px; margin: 15px 0; border-radius: 8px; width: 80%; }
        details { margin-top: 10px; padding: 10px; background: #e0e0e0; border-radius: 5px; }
        .remove-btn { background: red; color: white; padding: 8px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;}
        .tab-container { margin-top: 10px; }
        .tabs { display: flex; cursor: pointer; border-bottom: 2px solid #cccccc; }
        .tab { padding: 8px 12px; border: 1px solid #cccccc; border-bottom: none; background: #d9d9d9; }
        .tab.active { background: #ffffff; font-weight: bold; }
        .tab-content { display: none; padding: 10px; height: 120px; overflow-y: auto; border: 1px solid #ccc; }
        .tab-content.active { display: block;}
        .add-btn { background: #0077C8; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;}
        .save-btn { background: #0066b5; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;}
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); overflow:hidden; align-items:center; justify-content:center;}
        .modal-content { background: white; padding: 20px; width: 50%; max-height:80vh; overflow-y:auto; margin: 5% auto; border-radius: 10px;}
        .close-btn { background: red; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;}
        .form-container {display: flex;flex-direction: column;align-items:left;padding: 20px;width: 300px;}
        .form-group {display: flex;align-items: left;margin-bottom: 10px;width: 100%;}
        .form-group label {width: 120px;text-align: right;margin-right: 10px;}
        .form-group input {flex: 1;}
        .context-menu {display: none;position: fixed;background: white;border: 1px solid #ccc;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);z-index: 1000;}
        .context-menu ul {list-style: none;margin: 0;padding: 0;}
        .context-menu ul li {padding: 8px 12px;cursor: pointer;}
        .context-menu ul li:hover {background: #f0f0f0;}
        button.loading {
    opacity: 0.6;
    pointer-events: none;
}
    </style>
</head>
<body style="background-color: #2e3a42;">

    <h1 style="color:whitesmoke;">Manage Your Courses</h1>

    <!-- Course Input Form -->

    <div style="background:#e0e0e0;padding:20px;">
    <input type="text" id="courseID" placeholder="Enter Course ID" required>
    <input type="text" id="courseName" placeholder="Enter Course Name" required>
    <input type="text" id="courseCRN" placeholder="Enter CRN" required>
    <select id="courseSemester" required>
        <option value="" disabled selected>Select Semester</option>
        <option value="Spring">Spring</option>
        <option value="Summer">Summer</option>
        <option value="Fall">Fall</option>
        <option value="Winter">Winter</option>
    </select><br/><br/>

    <input type="text" id="courseTextbookTitle" placeholder="Enter Textbook Title" required>
    <input type="text" id="courseTextbookAuthor" placeholder="Enter Textbook Author" required>
    <input type="text" id="courseTextbookVersion" placeholder="Enter Textbook Version" required>
    <input type="text" id="courseTextbookISBN" placeholder="Enter Textbook ISBN" required>
    <input type="text" id="courseTextbookLink" placeholder="Enter Textbook Website Link" required><br/><br/>
    
    <button onclick="addCourse()">Add Course</button>
    </div>

    <p style="color:aliceblue" id="errorText"></p>
    <div id="courseList"></div>

    <!-- Context Menu for Questions -->
    <div id="contextMenu" class="context-menu">
        <ul>
            <li onclick="editItem()">Edit</li>
            <li onclick="deleteItem()">Delete</li>
            <li onclick="addFeedback()">Add Feedback</li>
            <li onclick="viewFeedback()">View Feedback</li>
        </ul>
    </div>
    
    <!-- Primary Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">Back</button>
            <h2 id="modalTitle">Edit</h2>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Modal for Question Selection -->
    <div id="questionModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeQuestionModal()">Back</button>
            <h2 id="questionModalTitle">Select Questions</h2>
            <div id="questionModalBody"></div>
        </div>
    </div>
<script>
    window.username = "{{username}}"
</script>
<script src="{% static 'welcome/js/init.js' %}"></script>
<script src="{% static  'welcome/js/add.js' %}"></script>
<script src="{% static 'welcome/js/edit.js' %}"></script>
<script src="{% static 'welcome/js/contextmenu.js' %}"></script>
<script src="{% static 'welcome/js/dom.js' %}"></script>
</body>
</html>